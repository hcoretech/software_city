"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/postRoute/route";
exports.ids = ["app/api/postRoute/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FpostRoute%2Froute&page=%2Fapi%2FpostRoute%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FpostRoute%2Froute.ts&appDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FpostRoute%2Froute&page=%2Fapi%2FpostRoute%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FpostRoute%2Froute.ts&appDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Hcore_Desktop_project_app_api_postRoute_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/postRoute/route.ts */ \"(rsc)/./app/api/postRoute/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/postRoute/route\",\n        pathname: \"/api/postRoute\",\n        filename: \"route\",\n        bundlePath: \"app/api/postRoute/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Hcore\\\\Desktop\\\\project\\\\app\\\\api\\\\postRoute\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Hcore_Desktop_project_app_api_postRoute_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/postRoute/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3N0Um91dGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBvc3RSb3V0ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnBvc3RSb3V0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIY29yZSU1Q0Rlc2t0b3AlNUNwcm9qZWN0JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNIY29yZSU1Q0Rlc2t0b3AlNUNwcm9qZWN0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovLy8/YTRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIY29yZVxcXFxEZXNrdG9wXFxcXHByb2plY3RcXFxcYXBwXFxcXGFwaVxcXFxwb3N0Um91dGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Bvc3RSb3V0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Bvc3RSb3V0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcG9zdFJvdXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSGNvcmVcXFxcRGVza3RvcFxcXFxwcm9qZWN0XFxcXGFwcFxcXFxhcGlcXFxccG9zdFJvdXRlXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wb3N0Um91dGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FpostRoute%2Froute&page=%2Fapi%2FpostRoute%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FpostRoute%2Froute.ts&appDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/postRoute/route.ts":
/*!************************************!*\
  !*** ./app/api/postRoute/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var node_fs_promises__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node:fs/promises */ \"node:fs/promises\");\n/* harmony import */ var node_fs_promises__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(node_fs_promises__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(node_fs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"3e76ce831b9d4440fbd11e38b913e1c9d039f8b6\":\"POST\"} */ \n\n\n\n\n// const stream= require('node:stream/promises')\n\n\n// import { setInterval } from \"node:timers/promises\";\n// mongoose.createConnection(process.env.MONGODB_URL)\nconst client = new mongodb__WEBPACK_IMPORTED_MODULE_3__.MongoClient(process.env.MONGODB_URL);\nconst db = client.db();\n// let bucket ;\n//   async function run (){\n//     mongoose.connection.on(\"connected\", () => {\n//     bucket = new GridFSBucket(db, {\n//     bucketName: 'upload',\n//   });\n// })\n// }   \n// return connect();\n// }\n// mongoose.createConnection(process.env.MONGODB_URL)\nconst GridFSBucketOptions = {\n    bucketName: \"upload\",\n    chunkSizeBytes: 256 * 1024\n};\nconst bucket = new mongodb__WEBPACK_IMPORTED_MODULE_3__.GridFSBucket(db, {\n    bucketName: \"upload\",\n    chunkSizeBytes: 256 * 1024,\n    readPreference: mongodb__WEBPACK_IMPORTED_MODULE_3__.ReadPreference.secondary\n});\n// export async function files(filed){\n// console.log(filed) \n// }\nasync function POST(req) {\n    //    const data = await upload.single('file')\n    //   dbConnection();\n    //    run().catch(error=>{\n    //     console.log(error)\n    //    })\n    // const file = req.file\n    // console.log(file)\n    // const id = req.nextUrl.searchParams.get('file');\n    // console.log(id)\n    const form = await req.formData();\n    const image = form.get(\"file\");\n    const title = form.get(\"title\");\n    const buffer = await image.arrayBuffer();\n    const New = new Uint8Array(buffer);\n    try {\n        if (!image) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                messsage: \"no valid file\"\n            }, {\n                status: 400\n            });\n        }\n        //  await writeFile(`./public/${image.name}`,New)\n        //      const bufer = await image.\n        // // const run = async()=>{\n        //      const data =  createWriteStream(image)\n        //      data.on('read' ,()=>{\n        //         console.log(image.read())\n        //      })\n        // const d=await fs.writeFile(`./public/${image.name}`,New,null)\n        // console.log(d)\n        // const title = form.get('title');\n        // const text = await blob.text();\n        await node_fs_promises__WEBPACK_IMPORTED_MODULE_4___default().writeFile(`./public/${image.name}`, New, null);\n        (0,node_fs__WEBPACK_IMPORTED_MODULE_5__.createReadStream)(`./public/${image.name}`).pipe(bucket.openUploadStream(image.name, {\n            metadata: {\n                name: title,\n                bufferArray: \"henry\"\n            }\n        })).closed;\n        const Unlink = ()=>{\n            const interval = setInterval(()=>{\n                node_fs_promises__WEBPACK_IMPORTED_MODULE_4___default().unlink(`./public/${image.name}`).then((file)=>{\n                    console.log(\"file deleted succesfully\");\n                }).catch((error)=>{\n                    console.log(\"failed to delete\");\n                });\n            }, 100);\n            setTimeout(()=>{\n                clearInterval(interval);\n            }, 160);\n        };\n        Unlink();\n        // const interVal = setInterval(()=>{\n        //    fs.unlink(`./public/${image.name}`)\n        //    .then((value)=>{\n        //     console.log('file remove succesfully')\n        //    }).catch((error)=>{\n        //      throw error\n        //    })\n        // },500)\n        // setTimeout(()=>{\n        //   clearInterval(interVal)\n        // },100)\n        // .then(()=>{\n        //    const filePath = await fs.open(`./public/${image.name}`)\n        //  const write = createReadStream(filePath).pipe\n        //     (bucket.openUploadStream(`./public/${image.name}`)).\n        //     _final((error)=>{\n        //      console.log (error)\n        //     })\n        //     return write;\n        // }).catch((error)=>{\n        //     throw error\n        // })\n        // const filePath = await fs.open(`./public/${image.name}`)\n        // const writes = write(filePath,\"12\")\n        // console.log(writes)\n        //   const streamFile =()=>{ \n        //   const Stream = filePath.createReadStream()\n        //   .pipe(\n        //     bucket.openUploadStream(Stream)\n        //   )\n        //   console.log(Stream)\n        // }    fs.\n        //    await streamFile ;\n        //  const name = data\n        //   const location = fs.readlink(`./public/${image.name}`)\n        //   if(location){\n        //     const interval = setInterval(()=>{\n        //         fs.unlink(`./public/${image.name}`)\n        //         .then((start)=>{\n        //          console.log( start)\n        //          //    console.log(\"succes unlink\")\n        //          //     console.log(start)\n        //         }).catch((error)=>{\n        //          throw error\n        //         })\n        //     },8000)\n        //     const clear =setTimeout(()=>{\n        //         clearInterval(interval)\n        //     }\n        //     ,\n        //     100\n        // )\n        // }else{\n        // }\n        //   const data = createReadStream(buffer).\n        //      pipe(bucket.openUploadStream(buffer,{\n        //         contentType:'image/png' ,\n        //         metadata:image,\n        // fs.unlink(`./public/${image.name}`)\n        //      }));\n        //   s\n        // const fz = bucket.openUploadStream(file)\n        //   const data = upload.single(file)\n        //   if(!data){\n        //     return NextResponse.json({\n        //         message:'failed to input file'\n        //     },{status:400})\n        //   }\n        //   console.log(data)\n        //  bucket.openUploadStream( 'image',image))\n        // // const da =  bucket.openDownloadStream(id:new ObjectId('669ef41c9098153f95a8d59e'))\n        //  const find = bucket.find({\n        //  })\n        // console.log(GridFSFile)\n        // then((data, err)=>{\n        //     if(err){\n        //         console.log(err);\n        //     }\n        //   console.log(fs)\n        // })\n        // console.log(fin);\n        //  const insert = await Post.create({\n        //     title,\n        //     image\n        //  })\n        //  const response = await insert\n        //  if(!response){\n        //     return NextResponse.json({\n        //         message:'failed'\n        //     },{status:200})\n        //  }\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"sucess\"\n        }, {\n            status: 200\n        });\n    //  const find =  bucket.find().toArray()\n    //  console.log(find)\n    // const value = await connect().find().toArray()\n    // console.log(value)\n    // return NextResponse.json({message:'succesful'},{status:200})\n    //  upload.createReadStream()\n    // bucket.createFileStream()\n    //  upload.createReadStream()\n    // const find = await bucket.find().toArray((err,files)=>{\n    // if(!files || files.length === 0){\n    //  NextResponse.json({files:false},{status:400})\n    // }else{\n    //     files.map(file =>{\n    //         if(\n    //             file.contentType === 'image/jpeg' ||\n    //             file.contentType === 'image/png'\n    //         ){\n    //             file.isImage = true\n    //         }else{\n    //             file.isImage =false\n    //         }\n    //     });\n    //     NextResponse.json({files:files},{status:200})\n    // }\n    // })\n    // return find\n    //    const post = await Post.create({\n    //     title:title,\n    //     image:image.type\n    //       })\n    //       const response = post;\n    //     console.log(response)\n    //  const create= Post.create({\n    //     title:title,\n    //  })\n    //  const Response =  await create \n    //  if(Response){\n    //     NextResponse.json({message:'success'},{status:200})\n    //  }\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"error posting to db\"\n        }, {\n            status: 501\n        });\n    }\n} // export const config = {\n //     api: {\n //       bodyParser: false,\n //     }\n // }\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__.ensureServerEntryExports)([\n    POST\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"3e76ce831b9d4440fbd11e38b913e1c9d039f8b6\", POST);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixzQkFBc0I7UUFDdEIsS0FBSztRQUNKLE9BQU90QyxxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUFDc0IsU0FBUTtRQUFRLEdBQUU7WUFBQ3BCLFFBQU87UUFBRztJQUN4RCx5Q0FBeUM7SUFDekMscUJBQXFCO0lBQ3JCLGlEQUFpRDtJQUNqRCxxQkFBcUI7SUFFckIsK0RBQStEO0lBQy9ELDZCQUE2QjtJQUM3Qiw0QkFBNEI7SUFFNUIsNkJBQTZCO0lBRTdCLDBEQUEwRDtJQUUxRCxvQ0FBb0M7SUFDcEMsaURBQWlEO0lBQ2pELFNBQVM7SUFDVCx5QkFBeUI7SUFDekIsY0FBYztJQUNkLG1EQUFtRDtJQUNuRCwrQ0FBK0M7SUFDL0MsYUFBYTtJQUNiLGtDQUFrQztJQUNsQyxpQkFBaUI7SUFDakIsa0NBQWtDO0lBQ2xDLFlBQVk7SUFDWixVQUFVO0lBQ1Ysb0RBQW9EO0lBQ3BELElBQUk7SUFDSixLQUFLO0lBQ0wsY0FBYztJQUN0QixzQ0FBc0M7SUFDdEMsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsK0JBQStCO0lBQy9CLDRCQUE0QjtJQUNwQiwrQkFBK0I7SUFDL0IsbUJBQW1CO0lBQ25CLE1BQU07SUFDTixtQ0FBbUM7SUFDbkMsaUJBQWlCO0lBQ2pCLDBEQUEwRDtJQUMxRCxLQUFLO0lBRVQsRUFBQyxPQUFNaUIsT0FBTTtRQUNULE9BQU8vQyxxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztZQUNyQnNCLFNBQVE7UUFDWixHQUFFO1lBQUNwQixRQUFPO1FBQUc7SUFDakI7QUFFSixFQUVBLDBCQUEwQjtDQUMxQixhQUFhO0NBQ2IsMkJBQTJCO0NBQzNCLFFBQVE7Q0FDUixJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2FwaS9wb3N0Um91dGUvcm91dGUudHM/NzE0NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcidcclxuaW1wb3J0IHsgUG9zdCB9IGZyb20gXCIuLi8uLi8uLi9saWIvcG9zdE1vZGVsXCI7XHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgR3JpZEZTQnVja2V0LCBJbnQzMiwgUmVhZFByZWZlcmVuY2UsIFdyaXRlQ29uY2VybiB9IGZyb20gXCJtb25nb2RiXCI7XHJcbmltcG9ydCB7IEdyaWRGU0ZpbGUgfSBmcm9tIFwibW9uZ29kYlwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcIm5vZGU6ZnMvcHJvbWlzZXNcIlxyXG4vLyBjb25zdCBzdHJlYW09IHJlcXVpcmUoJ25vZGU6c3RyZWFtL3Byb21pc2VzJylcclxuIGltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XHJcbiBpbXBvcnQgeyBjcmVhdGVSZWFkU3RyZWFtLCB1bmxpbmsgfSBmcm9tIFwibm9kZTpmc1wiO1xyXG5pbXBvcnQgeyBCbG9iIH0gZnJvbSBcIm5vZGU6YnVmZmVyXCI7XHJcbmltcG9ydCB7IG9wZW4gfSBmcm9tIFwibm9kZTpmc1wiO1xyXG5pbXBvcnQgeyB3cml0ZSB9IGZyb20gXCJub2RlOmZzXCI7XHJcbi8vIGltcG9ydCB7IHNldEludGVydmFsIH0gZnJvbSBcIm5vZGU6dGltZXJzL3Byb21pc2VzXCI7XHJcblxyXG5cclxuXHJcbi8vIG1vbmdvb3NlLmNyZWF0ZUNvbm5lY3Rpb24ocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwpXHJcblxyXG5jb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwpO1xyXG4gY29uc3QgZGIgPSBjbGllbnQuZGIoKTtcclxuICBcclxuLy8gbGV0IGJ1Y2tldCA7XHJcbi8vICAgYXN5bmMgZnVuY3Rpb24gcnVuICgpe1xyXG4vLyAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbihcImNvbm5lY3RlZFwiLCAoKSA9PiB7XHJcbi8vICAgICBidWNrZXQgPSBuZXcgR3JpZEZTQnVja2V0KGRiLCB7XHJcbi8vICAgICBidWNrZXROYW1lOiAndXBsb2FkJyxcclxuLy8gICB9KTtcclxuLy8gfSlcclxuLy8gfSAgIFxyXG4vLyByZXR1cm4gY29ubmVjdCgpO1xyXG5cclxuLy8gfVxyXG4vLyBtb25nb29zZS5jcmVhdGVDb25uZWN0aW9uKHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMKVxyXG5cclxuY29uc3QgR3JpZEZTQnVja2V0T3B0aW9ucyA9IHtcclxuXHJcbiAgICBidWNrZXROYW1lOid1cGxvYWQnLFxyXG4gICAgY2h1bmtTaXplQnl0ZXMgOiAyNTYgKjEwMjQsXHJcbn1cclxuICBcclxuIGNvbnN0IGJ1Y2tldCA9IG5ldyBHcmlkRlNCdWNrZXQoZGIsIHtcclxuICAgIGJ1Y2tldE5hbWU6J3VwbG9hZCcsXHJcbiAgICBjaHVua1NpemVCeXRlcyA6IDI1NiAqMTAyNCxcclxuICAgIHJlYWRQcmVmZXJlbmNlOlJlYWRQcmVmZXJlbmNlLnNlY29uZGFyeSxcclxuICAgIC8vIHdyaXRlQ29uY2VybjpXcml0ZUNvbmNlcm4sXHJcbiAgICAvLyBkaXNhYmxlTUQ1OmZhbHNlXHJcbiAgfVxyXG5cclxuKVxyXG5cclxuIFxyXG5cclxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVzKGZpbGVkKXtcclxuLy8gY29uc29sZS5sb2coZmlsZWQpIFxyXG4vLyB9XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTpOZXh0UmVxdWVzdCl7IFxyXG4vLyAgICBjb25zdCBkYXRhID0gYXdhaXQgdXBsb2FkLnNpbmdsZSgnZmlsZScpXHJcbi8vICAgZGJDb25uZWN0aW9uKCk7XHJcbi8vICAgIHJ1bigpLmNhdGNoKGVycm9yPT57XHJcbi8vICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuLy8gICAgfSlcclxuICAgIC8vIGNvbnN0IGZpbGUgPSByZXEuZmlsZVxyXG4gICAgLy8gY29uc29sZS5sb2coZmlsZSlcclxuICAgIC8vIGNvbnN0IGlkID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnZmlsZScpO1xyXG4gICAgXHJcbiAgICAvLyBjb25zb2xlLmxvZyhpZClcclxuICAgY29uc3QgZm9ybSA9IGF3YWl0IHJlcS5mb3JtRGF0YSgpO1xyXG5cclxuICAgY29uc3QgaW1hZ2UgPSBmb3JtLmdldCgnZmlsZScpIGFzIEZpbGU7XHJcbiAgIGNvbnN0IHRpdGxlPWZvcm0uZ2V0KCd0aXRsZScpO1xyXG4gICBjb25zdCBidWZmZXIgPWF3YWl0IGltYWdlLmFycmF5QnVmZmVyKClcclxuICAgY29uc3QgTmV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKVxyXG4gICAgXHJcbiAgICB0cnl7ICAgIFxyXG4gICAgICAgICBpZighaW1hZ2Upe1xyXG4gICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7bWVzc3NhZ2U6J25vIHZhbGlkIGZpbGUnfSx7c3RhdHVzOjQwMH0pXHJcbiAgICAgICAgIH1cclxuICAgICAgICAvLyAgYXdhaXQgd3JpdGVGaWxlKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YCxOZXcpXHJcbiAgICAvLyAgICAgIGNvbnN0IGJ1ZmVyID0gYXdhaXQgaW1hZ2UuXHJcblxyXG4gICAgLy8gLy8gY29uc3QgcnVuID0gYXN5bmMoKT0+e1xyXG4gICAgLy8gICAgICBjb25zdCBkYXRhID0gIGNyZWF0ZVdyaXRlU3RyZWFtKGltYWdlKVxyXG4gICAgLy8gICAgICBkYXRhLm9uKCdyZWFkJyAsKCk9PntcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coaW1hZ2UucmVhZCgpKVxyXG4gICAgLy8gICAgICB9KVxyXG4gICAgLy8gY29uc3QgZD1hd2FpdCBmcy53cml0ZUZpbGUoYC4vcHVibGljLyR7aW1hZ2UubmFtZX1gLE5ldyxudWxsKVxyXG4gICAgLy8gY29uc29sZS5sb2coZClcclxuICAgIC8vIGNvbnN0IHRpdGxlID0gZm9ybS5nZXQoJ3RpdGxlJyk7XHJcbiAgIFxyXG4gICAgLy8gY29uc3QgdGV4dCA9IGF3YWl0IGJsb2IudGV4dCgpO1xyXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YCxOZXcsbnVsbClcclxuXHJcbiAgICBjcmVhdGVSZWFkU3RyZWFtKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YClcclxuICAgIC5waXBlKGJ1Y2tldC5vcGVuVXBsb2FkU3RyZWFtKGltYWdlLm5hbWUsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBtZXRhZGF0YTp7XHJcbiAgICAgICAgICAgICAgICBuYW1lOnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgYnVmZmVyQXJyYXk6XCJoZW5yeVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICApKVxyXG4gICAgLmNsb3NlZFxyXG4gICAgY29uc3QgVW5saW5rID0oKT0+e1xyXG4gICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICAgICAgZnMudW5saW5rKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YClcclxuICAgICAgICAgICAgLnRoZW4oKGZpbGUpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbGUgZGVsZXRlZCBzdWNjZXNmdWxseVwiKVxyXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGRlbGV0ZScpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgfSwxMDApXHJcbiAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKSBcclxuICAgICAgfSxcclxuICAgICAgMTYwXHJcbiAgICApXHJcbiAgICB9XHJcbiAgICBcclxuICAgIFVubGluaygpO1xyXG4gICAgLy8gY29uc3QgaW50ZXJWYWwgPSBzZXRJbnRlcnZhbCgoKT0+e1xyXG4gICAgLy8gICAgZnMudW5saW5rKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YClcclxuICAgIC8vICAgIC50aGVuKCh2YWx1ZSk9PntcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnZmlsZSByZW1vdmUgc3VjY2VzZnVsbHknKVxyXG4gICAgLy8gICAgfSkuY2F0Y2goKGVycm9yKT0+e1xyXG4gICAgLy8gICAgICB0aHJvdyBlcnJvclxyXG4gICAgLy8gICAgfSlcclxuICAgIC8vIH0sNTAwKVxyXG5cclxuICAgIC8vIHNldFRpbWVvdXQoKCk9PntcclxuICAgIC8vICAgY2xlYXJJbnRlcnZhbChpbnRlclZhbClcclxuICAgIC8vIH0sMTAwKVxyXG4gICAgLy8gLnRoZW4oKCk9PntcclxuICAgIC8vICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgZnMub3BlbihgLi9wdWJsaWMvJHtpbWFnZS5uYW1lfWApXHJcbiAgICAvLyAgY29uc3Qgd3JpdGUgPSBjcmVhdGVSZWFkU3RyZWFtKGZpbGVQYXRoKS5waXBlXHJcbiAgICAvLyAgICAgKGJ1Y2tldC5vcGVuVXBsb2FkU3RyZWFtKGAuL3B1YmxpYy8ke2ltYWdlLm5hbWV9YCkpLlxyXG4gICAgLy8gICAgIF9maW5hbCgoZXJyb3IpPT57XHJcbiAgICAvLyAgICAgIGNvbnNvbGUubG9nIChlcnJvcilcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIHJldHVybiB3cml0ZTtcclxuICAgIC8vIH0pLmNhdGNoKChlcnJvcik9PntcclxuICAgIC8vICAgICB0aHJvdyBlcnJvclxyXG4gICAgLy8gfSlcclxuICAgIC8vIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgZnMub3BlbihgLi9wdWJsaWMvJHtpbWFnZS5uYW1lfWApXHJcbiAgICAvLyBjb25zdCB3cml0ZXMgPSB3cml0ZShmaWxlUGF0aCxcIjEyXCIpXHJcbiAgICAvLyBjb25zb2xlLmxvZyh3cml0ZXMpXHJcbi8vICAgY29uc3Qgc3RyZWFtRmlsZSA9KCk9PnsgXHJcbiAgICAvLyAgIGNvbnN0IFN0cmVhbSA9IGZpbGVQYXRoLmNyZWF0ZVJlYWRTdHJlYW0oKVxyXG4gICAgLy8gICAucGlwZShcclxuICAgIC8vICAgICBidWNrZXQub3BlblVwbG9hZFN0cmVhbShTdHJlYW0pXHJcbiAgICAvLyAgIClcclxuICAgIC8vICAgY29uc29sZS5sb2coU3RyZWFtKVxyXG4vLyB9ICAgIGZzLlxyXG4gICAgICAgXHJcbi8vICAgIGF3YWl0IHN0cmVhbUZpbGUgO1xyXG4gICAgLy8gIGNvbnN0IG5hbWUgPSBkYXRhXHJcbi8vICAgY29uc3QgbG9jYXRpb24gPSBmcy5yZWFkbGluayhgLi9wdWJsaWMvJHtpbWFnZS5uYW1lfWApXHJcbiAgXHJcbi8vICAgaWYobG9jYXRpb24pe1xyXG4vLyAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+e1xyXG4vLyAgICAgICAgIGZzLnVubGluayhgLi9wdWJsaWMvJHtpbWFnZS5uYW1lfWApXHJcbi8vICAgICAgICAgLnRoZW4oKHN0YXJ0KT0+e1xyXG4vLyAgICAgICAgICBjb25zb2xlLmxvZyggc3RhcnQpXHJcbi8vICAgICAgICAgIC8vICAgIGNvbnNvbGUubG9nKFwic3VjY2VzIHVubGlua1wiKVxyXG4vLyAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coc3RhcnQpXHJcbi8vICAgICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xyXG4vLyAgICAgICAgICB0aHJvdyBlcnJvclxyXG4vLyAgICAgICAgIH0pXHJcbi8vICAgICB9LDgwMDApXHJcbi8vICAgICBjb25zdCBjbGVhciA9c2V0VGltZW91dCgoKT0+e1xyXG4vLyAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbi8vICAgICB9XHJcbi8vICAgICAsXHJcbi8vICAgICAxMDBcclxuLy8gKVxyXG4gICBcclxuXHJcbi8vIH1lbHNle1xyXG5cclxuLy8gfVxyXG4gICAgLy8gICBjb25zdCBkYXRhID0gY3JlYXRlUmVhZFN0cmVhbShidWZmZXIpLlxyXG4gICAgLy8gICAgICBwaXBlKGJ1Y2tldC5vcGVuVXBsb2FkU3RyZWFtKGJ1ZmZlcix7XHJcbiAgICAvLyAgICAgICAgIGNvbnRlbnRUeXBlOidpbWFnZS9wbmcnICxcclxuICAgIC8vICAgICAgICAgbWV0YWRhdGE6aW1hZ2UsXHJcbiAgICAgICBcclxuICAgICAgICAvLyBmcy51bmxpbmsoYC4vcHVibGljLyR7aW1hZ2UubmFtZX1gKVxyXG5cclxuICAgIC8vICAgICAgfSkpO1xyXG4vLyAgIHNcclxuICAgICAgICAvLyBjb25zdCBmeiA9IGJ1Y2tldC5vcGVuVXBsb2FkU3RyZWFtKGZpbGUpXHJcbiAgICAgICAgICBcclxuICAgICAgICAvLyAgIGNvbnN0IGRhdGEgPSB1cGxvYWQuc2luZ2xlKGZpbGUpXHJcbiAgICAgICAgLy8gICBpZighZGF0YSl7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgLy8gICAgICAgICBtZXNzYWdlOidmYWlsZWQgdG8gaW5wdXQgZmlsZSdcclxuICAgICAgICAvLyAgICAgfSx7c3RhdHVzOjQwMH0pXHJcbiAgICAgICAgLy8gICB9XHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIC8vICBidWNrZXQub3BlblVwbG9hZFN0cmVhbSggJ2ltYWdlJyxpbWFnZSkpXHJcbiAgICAgICAgLy8gLy8gY29uc3QgZGEgPSAgYnVja2V0Lm9wZW5Eb3dubG9hZFN0cmVhbShpZDpuZXcgT2JqZWN0SWQoJzY2OWVmNDFjOTA5ODE1M2Y5NWE4ZDU5ZScpKVxyXG4gICAgICAgIC8vICBjb25zdCBmaW5kID0gYnVja2V0LmZpbmQoe1xyXG4gICAgICAgIC8vICB9KVxyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhHcmlkRlNGaWxlKVxyXG4gICAgICAgIC8vIHRoZW4oKGRhdGEsIGVycik9PntcclxuICAgICAgICAvLyAgICAgaWYoZXJyKXtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhmcylcclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gICAgICAgIC8vICBjb25zdCBpbnNlcnQgPSBhd2FpdCBQb3N0LmNyZWF0ZSh7XHJcbiAgICAgICAgLy8gICAgIHRpdGxlLFxyXG4gICAgICAgIC8vICAgICBpbWFnZVxyXG4gICAgICAgIC8vICB9KVxyXG4gICAgICAgIC8vICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGluc2VydFxyXG4gICAgICAgIC8vICBpZighcmVzcG9uc2Upe1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIC8vICAgICAgICAgbWVzc2FnZTonZmFpbGVkJ1xyXG4gICAgICAgIC8vICAgICB9LHtzdGF0dXM6MjAwfSlcclxuICAgICAgICAvLyAgfVxyXG4gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe21lc3NhZ2U6J3N1Y2Vzcyd9LHtzdGF0dXM6MjAwfSlcclxuICAgICAgICAvLyAgY29uc3QgZmluZCA9ICBidWNrZXQuZmluZCgpLnRvQXJyYXkoKVxyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhmaW5kKVxyXG4gICAgICAgIC8vIGNvbnN0IHZhbHVlID0gYXdhaXQgY29ubmVjdCgpLmZpbmQoKS50b0FycmF5KClcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSlcclxuIFxyXG4gICAgICAgIC8vIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7bWVzc2FnZTonc3VjY2VzZnVsJ30se3N0YXR1czoyMDB9KVxyXG4gICAgICAgIC8vICB1cGxvYWQuY3JlYXRlUmVhZFN0cmVhbSgpXHJcbiAgICAgICAgLy8gYnVja2V0LmNyZWF0ZUZpbGVTdHJlYW0oKVxyXG4gICAgIFxyXG4gICAgICAgIC8vICB1cGxvYWQuY3JlYXRlUmVhZFN0cmVhbSgpXHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGZpbmQgPSBhd2FpdCBidWNrZXQuZmluZCgpLnRvQXJyYXkoKGVycixmaWxlcyk9PntcclxuXHJcbiAgICAgICAgLy8gaWYoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgLy8gIE5leHRSZXNwb25zZS5qc29uKHtmaWxlczpmYWxzZX0se3N0YXR1czo0MDB9KVxyXG4gICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgIC8vICAgICBmaWxlcy5tYXAoZmlsZSA9PntcclxuICAgICAgICAvLyAgICAgICAgIGlmKFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZpbGUuY29udGVudFR5cGUgPT09ICdpbWFnZS9qcGVnJyB8fFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZpbGUuY29udGVudFR5cGUgPT09ICdpbWFnZS9wbmcnXHJcbiAgICAgICAgLy8gICAgICAgICApe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZpbGUuaXNJbWFnZSA9IHRydWVcclxuICAgICAgICAvLyAgICAgICAgIH1lbHNle1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZpbGUuaXNJbWFnZSA9ZmFsc2VcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIE5leHRSZXNwb25zZS5qc29uKHtmaWxlczpmaWxlc30se3N0YXR1czoyMDB9KVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIC8vIHJldHVybiBmaW5kXHJcbi8vICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmNyZWF0ZSh7XHJcbi8vICAgICB0aXRsZTp0aXRsZSxcclxuLy8gICAgIGltYWdlOmltYWdlLnR5cGVcclxuLy8gICAgICAgfSlcclxuLy8gICAgICAgY29uc3QgcmVzcG9uc2UgPSBwb3N0O1xyXG4vLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXHJcbiAgICAgICAgLy8gIGNvbnN0IGNyZWF0ZT0gUG9zdC5jcmVhdGUoe1xyXG4gICAgICAgIC8vICAgICB0aXRsZTp0aXRsZSxcclxuICAgICAgICAvLyAgfSlcclxuICAgICAgICAvLyAgY29uc3QgUmVzcG9uc2UgPSAgYXdhaXQgY3JlYXRlIFxyXG4gICAgICAgIC8vICBpZihSZXNwb25zZSl7XHJcbiAgICAgICAgLy8gICAgIE5leHRSZXNwb25zZS5qc29uKHttZXNzYWdlOidzdWNjZXNzJ30se3N0YXR1czoyMDB9KVxyXG4gICAgICAgIC8vICB9XHJcbiAgICAgICAgIFxyXG4gICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiZXJyb3IgcG9zdGluZyB0byBkYlwiXHJcbiAgICAgICAgfSx7c3RhdHVzOjUwMX0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBleHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4vLyAgICAgYXBpOiB7XHJcbi8vICAgICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkdyaWRGU0J1Y2tldCIsIlJlYWRQcmVmZXJlbmNlIiwiZnMiLCJNb25nb0NsaWVudCIsImNyZWF0ZVJlYWRTdHJlYW0iLCJjbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJkYiIsIkdyaWRGU0J1Y2tldE9wdGlvbnMiLCJidWNrZXROYW1lIiwiY2h1bmtTaXplQnl0ZXMiLCJidWNrZXQiLCJyZWFkUHJlZmVyZW5jZSIsInNlY29uZGFyeSIsIlBPU1QiLCJyZXEiLCJmb3JtIiwiZm9ybURhdGEiLCJpbWFnZSIsImdldCIsInRpdGxlIiwiYnVmZmVyIiwiYXJyYXlCdWZmZXIiLCJOZXciLCJVaW50OEFycmF5IiwianNvbiIsIm1lc3NzYWdlIiwic3RhdHVzIiwid3JpdGVGaWxlIiwibmFtZSIsInBpcGUiLCJvcGVuVXBsb2FkU3RyZWFtIiwibWV0YWRhdGEiLCJidWZmZXJBcnJheSIsImNsb3NlZCIsIlVubGluayIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ1bmxpbmsiLCJ0aGVuIiwiZmlsZSIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwic2V0VGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/postRoute/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FpostRoute%2Froute&page=%2Fapi%2FpostRoute%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FpostRoute%2Froute.ts&appDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHcore%5CDesktop%5Cproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();